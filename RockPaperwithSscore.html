<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock paper sissors</title>
</head>
<body>
    <p> Rock Paper Scissors</p>
    <button onclick="playGame('rock');">
        Rock
    </button>
    <button onclick="playGame('paper')">
        Papper
    </button>
    <button onclick="playGame('scissors');">
        Scissors
    </button>
    <button onclick="reset()">
        Reset
    </button>

    <script>
        let Score=JSON.parse(localStorage.getItem('Score'));
        if (Score === null){
            Socre={
                win:0,
                loss:0,
                tie:0
            }
        }

   
        
        let user_choice='';
        function reset () {
            Score.win=0;
            Score.loss=0;
            Score.tie=0;
            localStorage.removeItem('score');
        alert(`Score reset\n
win:${Score.win},loss:${Score.loss}, Tie:${Score.tie}`)
        }
        

        function pickComputermove () {
            const random = Math.random();
            let comp_choice='';
            if(random>0 && random<1/3){
                comp_choice='rock';
            }else if (random>1/3 && random<2/3) {
                comp_choice='paper';
            }else{
                comp_choice='scissors';
            }
            return comp_choice;
        }

        function playGame(playerMove) {
            const comp_choice= pickComputermove();
            console.log(comp_choice);
            let result='hello';
            if (playerMove==='scissors'){
                if (comp_choice==='scissors'){
                    result='tie'
                }else if (comp_choice==='paper'){
                    result='you Win';
                }else if (comp_choice==='rock'){
                    result='you loss';
                }
                
            }else if(playerMove==='rock'){
                
    
                if (comp_choice==='rock'){
                    result='tie';
                }else if (comp_choice==='scissors'){
                    result='you Win';
                }else if (comp_choice==='paper'){
                    result='you loss';
                }
                

            }else if(playerMove==='paper'){
                if (comp_choice==='paper'){
                    result='tie';
                }else if (comp_choice==='rock'){
                    result='you Win';
                }else if (comp_choice==='scissors'){
                    result='you loss';
                }
                
            }
            if (result==='you Win'){
                Score.win++;
            }
            else if(result==='you loss'){
                Score.loss++;
            }else{
                Score.tie++;
            }


            localStorage.setItem('Score',JSON.stringify(Score));
            
            alert(`You picked ${playerMove}.Computer picked ${comp_choice}. ${result}.\n win:${Score.win},loss:${Score.loss}, Tie:${Score.tie}`);
            }


    </script>
    
</body>
</html>